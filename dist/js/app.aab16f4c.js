(function(t){function e(e){for(var n,s,l=e[0],i=e[1],c=e[2],p=0,d=[];p<l.length;p++)s=l[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,l=1;l<a.length;l++){var i=a[l];0!==o[i]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=i;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"4ea8":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"teal darken-2",dark:""}},[n("div",{staticClass:"d-flex align-center"},[n("router-link",{attrs:{to:"home"}},[n("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:a("cf05"),transition:"scale-transition",width:"40"}})],1),n("h1",[t._v("LINKr")])],1),n("v-spacer"),t.isLoggedIn()?n("button",{staticClass:"lk-btn-2",attrs:{"align-right":"",color:"lighten-1 white--text"},on:{click:function(e){return t.logout()}}},[t._v("Logout")]):t._e()],1),n("v-content",[n("router-view")],1)],1)},r=[],s=a("8c4f"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-container",{staticClass:"show v-card",attrs:{fluid:""}},[a("v-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pageData.url,expression:"pageData.url"}],staticClass:"lk-input",attrs:{type:"text",color:"teal lighten-1",name:"url",placeholder:"Shorten your link"},domProps:{value:t.pageData.url},on:{input:function(e){e.target.composing||t.$set(t.pageData,"url",e.target.value)}}}),a("button",{attrs:{id:"shorten_btn",color:"teal lighten-1 white--text"},on:{click:function(e){return e.preventDefault(),t.shorten()}}},[t._v("Shorten")])])],1),a("v-container",{staticClass:"show",attrs:{fluid:""}},[a("div",{attrs:{id:"shorten_actions"}},[a("ul",{staticClass:"anon_history",attrs:{id:"most_recent_links"}},t._l(t.links,(function(e){return a("li",{key:e._id,staticClass:"link"},[a("span",{staticClass:"long-link"},[t._v(t._s(e.url)+"/")]),a("span",[a("span",{staticClass:"short-link"},[a("a",{attrs:{href:e.shortUrl,target:"_blank"}},[t._v(t._s(e.shortUrl))])]),a("span",{staticClass:"copy"},[a("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.shortUrl,expression:"link.shortUrl"}],staticClass:"copy-btn"},[t._v("Copy")])])])])})),0)])])],1)},i=[],c=(a("9911"),a("bc3a")),u=a.n(c),p={test:"http://localhost:9000/api/v1/",live:"https://api.linkr.page/api/v1/"},d=u.a.create({baseURL:p.live,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:""}}),f=d,v={name:"Home",data:function(){return{pageData:{url:""},links:null,baseUrl:null}},mounted:function(){var t=this;console.log(":mounted"),null===localStorage.getItem("token")&&G.push("login"),f.defaults.headers.Authorization=localStorage.getItem("token"),f.get("/links").then((function(e){var a=e.data,n=a.links,o=a.baseUrl;t.links=n,t.baseUrl=o,console.log({baseUrl:o,links:n})})).catch((function(t){var e=t.response,a=e.status,n=e.data.message;console.log({status:a,message:n})}))},methods:{shorten:function(){var t=this;f.defaults.headers.Authorization=localStorage.getItem("token"),f.post("/links",this.pageData).then((function(e){var a=e.data.link;console.log({link:a}),t.links.unshift(a)})).catch((function(t){var e=t.response,a=e.status,n=e.data.message;console.log({status:a,message:n})}))}}},g=v,h=(a("942d"),a("2877")),m=a("6544"),b=a.n(m),k=a("62ad"),w=a("a523"),_=a("a75b"),x=Object(h["a"])(g,l,i,!1,null,"22d84cc9",null),y=x.exports;b()(x,{VCol:k["a"],VContainer:w["a"],VContent:_["a"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"teal lighten-1",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Login form")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{color:"teal lighten-1",label:"Email",name:"login","prepend-icon":"person",type:"text"},model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}}),a("v-text-field",{attrs:{id:"password",color:"teal lighten-1",label:"Password",name:"password","prepend-icon":"lock",type:"password"},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("button",{staticClass:"lk-btn",attrs:{color:"teal lighten-1 white--text"},on:{click:function(e){return t.login()}}},[t._v("Login")]),a("v-spacer")],1),a("v-card-actions",[a("v-spacer"),a("a",{staticStyle:{"font-size":"11px"},attrs:{href:"/register"}},[t._v("Register")]),a("v-spacer")],1)],1)],1)],1)],1)],1)},V=[],I={name:"Login",data:function(){return{userInfo:{email:"",password:""}}},methods:{login:function(){f.post("/auth/local",this.userInfo).then((function(t){var e=t.status,a=t.data,n=a.user,o=a.token,r=n.fullName,s=n.email,l=n._id;localStorage.fullName=r,localStorage.email=s,localStorage.token=o,localStorage._id=l,console.log({status:e}),G.push({path:"/"})})).catch((function(t){var e=t.response,a=e.status,n=e.data.message;console.log({status:a,message:n})}))}}},S=I,j=a("b0af"),O=a("99d9"),T=a("4bd4"),N=a("0fd9"),$=a("2fa4"),L=a("8654"),P=a("71d9"),A=a("2a7f"),U=Object(h["a"])(S,C,V,!1,null,null,null),D=U.exports;b()(U,{VCard:j["a"],VCardActions:O["a"],VCardText:O["b"],VCol:k["a"],VContainer:w["a"],VContent:_["a"],VForm:T["a"],VRow:N["a"],VSpacer:$["a"],VTextField:L["a"],VToolbar:P["a"],VToolbarTitle:A["a"]});var E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"teal lighten-1",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Create your free account")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{color:"teal lighten-1",label:"Full name",name:"login","prepend-icon":"person",type:"text"},model:{value:t.userInfo.fullName,callback:function(e){t.$set(t.userInfo,"fullName",e)},expression:"userInfo.fullName"}}),a("v-text-field",{attrs:{color:"teal lighten-1",label:"Email address",name:"login","prepend-icon":"email",type:"text"},model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}}),a("v-text-field",{attrs:{id:"password",color:"teal lighten-1",label:"Password",name:"password","prepend-icon":"lock",type:"password"},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"teal lighten-1 white--text",dark:""},on:{click:function(e){return t.register()}}},[t._v("Register")]),a("v-spacer")],1),a("v-card-actions",[a("v-spacer"),a("a",{staticStyle:{"font-size":"11px"},attrs:{href:"/login"}},[t._v("Login")]),a("v-spacer")],1)],1)],1)],1)],1)],1)},R=[],z=a("e587"),F={name:"Register",data:function(){return{userInfo:{fullName:"",email:"",password:""}}},methods:{register:function(){f.post("/users",this.userInfo).then((function(t){var e=t.status,a=t.data,n=a.token,o=a.user,r=o.fullName,s=o.email,l=o._id;localStorage.fullName=r,localStorage.email=s,localStorage.token=n,localStorage._id=l,console.log({status:e}),G.push("home")})).catch((function(t){var e=t.response.data.error,a=e.statusCode,n=Object(z["a"])(e.data,1),o=n[0];console.log("error creating account",{statusCode:a,displayableError:o})}))}}},M=F,B=a("8336"),J=Object(h["a"])(M,E,R,!1,null,null,null),H=J.exports;b()(J,{VBtn:B["a"],VCard:j["a"],VCardActions:O["a"],VCardText:O["b"],VCol:k["a"],VContainer:w["a"],VContent:_["a"],VForm:T["a"],VRow:N["a"],VSpacer:$["a"],VTextField:L["a"],VToolbar:P["a"],VToolbarTitle:A["a"]}),n["a"].use(s["a"]);var K=[{path:"/",name:"home",component:y},{path:"/login",name:"login",component:D},{path:"/register",name:"register",component:H}],q=new s["a"]({mode:"history",base:"/",routes:K}),G=q,Q={name:"App",methods:{logout:function(){localStorage.clear(),G.push("login")},isLoggedIn:function(){return null!==localStorage.getItem("token")}}},W=Q,X=(a("5c0b"),a("7496")),Y=a("40dc"),Z=a("adda"),tt=Object(h["a"])(W,o,r,!1,null,null,null),et=tt.exports;b()(tt,{VApp:X["a"],VAppBar:Y["a"],VContent:_["a"],VImg:Z["a"],VSpacer:$["a"]});var at=a("f309");n["a"].use(at["a"]);var nt=new at["a"]({}),ot=(a("d1e78"),a("af88"));n["a"].config.productionTip=!1,n["a"].use(ot["a"]),new n["a"]({router:G,vuetify:nt,render:function(t){return t(et)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("7694"),o=a.n(n);o.a},7694:function(t,e,a){},"942d":function(t,e,a){"use strict";var n=a("4ea8"),o=a.n(n);o.a},cf05:function(t,e,a){t.exports=a.p+"img/logo.62990cf2.png"}});
//# sourceMappingURL=app.aab16f4c.js.map